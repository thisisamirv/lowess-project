<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1f2937">
    Confidence vs Prediction Intervals
  </text>
  
  <!-- Subtitle -->
  <text x="400" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#6b7280">
    95% intervals for LOWESS smoothing
  </text>
  
  <!-- Axes -->
  <line x1="80" y1="420" x2="720" y2="420" stroke="#374151" stroke-width="2"/>
  <line x1="80" y1="420" x2="80" y2="80" stroke="#374151" stroke-width="2"/>
  
  <!-- Axis labels -->
  <text x="720" y="445" font-family="Arial, sans-serif" font-size="16" fill="#374151">x</text>
  <text x="60" y="75" font-family="Arial, sans-serif" font-size="16" fill="#374151">y</text>
  
  <!-- Grid lines -->
  <line x1="80" y1="350" x2="720" y2="350" stroke="#e5e7eb" stroke-width="1"/>
  <line x1="80" y1="280" x2="720" y2="280" stroke="#e5e7eb" stroke-width="1"/>
  <line x1="80" y1="210" x2="720" y2="210" stroke="#e5e7eb" stroke-width="1"/>
  <line x1="80" y1="140" x2="720" y2="140" stroke="#e5e7eb" stroke-width="1"/>
  
  <!-- Prediction interval filled area (wider, light blue) -->
  <polygon points="100,320 150,295 200,275 250,255 300,235 350,215 400,195 450,175 500,160 550,145 600,135 650,125 700,115
                   700,185 650,195 600,205 550,215 500,230 450,245 400,265 350,285 300,305 250,325 200,345 150,365 100,380"
           fill="#93c5fd" fill-opacity="0.3"/>
  
  <!-- Confidence interval filled area (narrower, light green) -->
  <polygon points="100,340 150,315 200,295 250,275 300,255 350,235 400,215 450,195 500,180 550,165 600,155 650,145 700,135
                   700,165 650,175 600,185 550,195 500,210 450,225 400,245 350,265 300,285 250,305 200,325 150,345 100,360"
           fill="#86efac" fill-opacity="0.4"/>
  
  <!-- Prediction interval boundaries (dashed blue) -->
  <polyline points="100,320 150,295 200,275 250,255 300,235 350,215 400,195 450,175 500,160 550,145 600,135 650,125 700,115"
            fill="none" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,5"/>
  <polyline points="100,380 150,365 200,345 250,325 300,305 350,285 400,265 450,245 500,230 550,215 600,205 650,195 700,185"
            fill="none" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Confidence interval boundaries (dashed green) -->
  <polyline points="100,340 150,315 200,295 250,275 300,255 350,235 400,215 450,195 500,180 550,165 600,155 650,145 700,135"
            fill="none" stroke="#059669" stroke-width="2" stroke-dasharray="3,3"/>
  <polyline points="100,360 150,345 200,325 250,305 300,285 350,265 400,245 450,225 500,210 550,195 600,185 650,175 700,165"
            fill="none" stroke="#059669" stroke-width="2" stroke-dasharray="3,3"/>
  
  <!-- LOWESS fitted curve (solid dark line - centered) -->
  <polyline points="100,350 150,330 200,310 250,290 300,270 350,250 400,230 450,210 500,195 550,180 600,170 650,160 700,150"
            fill="none" stroke="#1f2937" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  
  <!-- Data points with scatter -->
  <circle cx="120" cy="355" r="5" fill="#2563eb"/>
  <circle cx="150" cy="325" r="5" fill="#2563eb"/>
  <circle cx="180" cy="340" r="5" fill="#2563eb"/>
  <circle cx="210" cy="305" r="5" fill="#2563eb"/>
  <circle cx="240" cy="315" r="5" fill="#2563eb"/>
  <circle cx="270" cy="285" r="5" fill="#2563eb"/>
  <circle cx="300" cy="265" r="5" fill="#2563eb"/>
  <circle cx="330" cy="275" r="5" fill="#2563eb"/>
  <circle cx="360" cy="245" r="5" fill="#2563eb"/>
  <circle cx="390" cy="255" r="5" fill="#2563eb"/>
  <circle cx="420" cy="225" r="5" fill="#2563eb"/>
  <circle cx="450" cy="215" r="5" fill="#2563eb"/>
  <circle cx="480" cy="205" r="5" fill="#2563eb"/>
  <circle cx="510" cy="190" r="5" fill="#2563eb"/>
  <circle cx="540" cy="185" r="5" fill="#2563eb"/>
  <circle cx="570" cy="175" r="5" fill="#2563eb"/>
  <circle cx="600" cy="165" r="5" fill="#2563eb"/>
  <circle cx="630" cy="170" r="5" fill="#2563eb"/>
  <circle cx="660" cy="155" r="5" fill="#2563eb"/>
  <circle cx="690" cy="150" r="5" fill="#2563eb"/>
  
  <!-- Legend -->
  <g transform="translate(100, 100)">
    <rect x="0" y="0" width="220" height="90" fill="white" stroke="#d1d5db" stroke-width="1" rx="5"/>
    
    <!-- LOWESS curve -->
    <line x1="15" y1="18" x2="35" y2="18" stroke="#1f2937" stroke-width="3"/>
    <text x="45" y="23" font-family="Arial, sans-serif" font-size="12" fill="#374151">LOWESS curve</text>
    
    <!-- Confidence interval -->
    <line x1="15" y1="43" x2="35" y2="43" stroke="#059669" stroke-width="2" stroke-dasharray="3,3"/>
    <rect x="20" y="38" width="10" height="10" fill="#86efac" fill-opacity="0.4"/>
    <text x="45" y="48" font-family="Arial, sans-serif" font-size="12" fill="#374151">95% Confidence (narrow)</text>
    
    <!-- Prediction interval -->
    <line x1="15" y1="68" x2="35" y2="68" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,5"/>
    <rect x="20" y="63" width="10" height="10" fill="#93c5fd" fill-opacity="0.3"/>
    <text x="45" y="73" font-family="Arial, sans-serif" font-size="12" fill="#374151">95% Prediction (wide)</text>
  </g>
  
  <!-- Explanation box -->
  <g transform="translate(450, 350)">
    <rect x="0" y="0" width="260" height="65" fill="#fef3c7" stroke="#f59e0b" stroke-width="1" rx="5"/>
    <text x="10" y="18" font-family="Arial, sans-serif" font-size="11" fill="#374151" font-weight="bold">
      Key Difference:
    </text>
    <text x="10" y="35" font-family="Arial, sans-serif" font-size="10" fill="#374151">
      • Confidence: Where the true curve is
    </text>
    <text x="10" y="50" font-family="Arial, sans-serif" font-size="10" fill="#374151">
      • Prediction: Where new points will fall
    </text>
  </g>
</svg>
